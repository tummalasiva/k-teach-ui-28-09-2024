"use strict";(self.webpackChunkschoolerp=self.webpackChunkschoolerp||[]).push([[6617,2532],{83094:(e,i,l)=>{l.d(i,{A:()=>d});l(65043);var a=l(60446),n=l.n(a),o=l(58390),t=l(79344),r=l(89302),s=l(70579);const d=function(e){let{name:i,label:l,formik:a,openTo:d="day",inputFormat:m="DD-MM-YYYY",views:c=["year","month","day"],disabled:u=!1,disableFutureDates:h=!1}=e;return(0,s.jsx)(o.$,{dateAdapter:r.R,children:(0,s.jsx)(t.l,{disableFuture:h,sx:{"& .MuiInputBase-input":{height:"8px"},marginTop:"16px",width:"100%"},name:i,variant:"outlined",size:"small",label:l,disabled:u,slotProps:{textField:{InputLabelProps:{fontSize:"90px"}}},openTo:d,closeOnSelect:!0,views:c,inputFormat:m,value:n()(a.values[i])||null,onChange:e=>a.setFieldValue(i,n()(e))})})}},32532:(e,i,l)=>{l.r(i),l.d(i,{default:()=>I});var a=l(65043),n=(l(60446),l(53193)),o=l(18356),t=l(72221),r=l(90469),s=l(67784),d=l(51787),m=l(32143),c=l(66360),u=l(70579);const h=e=>{let{label:i,name:l,options:h=[],formik:x,disabled:v=!1,multiple:b,inputProps:g,disableLabel:A,required:f,showSearch:j=!1,...p}=e;const{setFieldValue:y,touched:N,errors:D}=x,[k,S]=(0,a.useState)(!1);var C=(0,a.useRef)(void 0);const[P,q]=(0,a.useState)("");(0,a.useEffect)((()=>{q("")}),[k]);const I=(0,a.useMemo)((()=>h.filter((e=>((e,i)=>(null===e||void 0===e?void 0:e.toLowerCase().indexOf(null===i||void 0===i?void 0:i.toLowerCase()))>-1)(e.label,P)))),[P,h,k]);return(0,u.jsxs)(n.A,{margin:"normal",required:f,variant:"outlined",size:"small",sx:{borderRadius:20},fullWidth:!0,children:[(0,u.jsx)(o.A,{required:f,shrink:!0,id:l,children:i}),(0,u.jsxs)(t.A,{notched:!0,required:f,disabled:v,onChange:e=>{const{value:i}=e.target;y(l,i)},label:i,labelId:l,error:N[l]&&D[l],multiple:b,value:x.values[l],inputProps:g,onAnimationEnd:()=>{var e;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.focus()},MenuProps:{autoFocus:!1},onBlur:()=>S(!k),...p,children:[j&&(0,u.jsx)(r.A,{children:(0,u.jsx)(s.A,{onBlur:()=>S(!k),size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,InputProps:{startAdornment:(0,u.jsx)(d.A,{position:"start",children:(0,u.jsx)(c.A,{})})},onChange:e=>q(e.target.value),onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),I.map(((e,i)=>(0,u.jsx)(m.A,{value:e.value,children:e.label},i)))]}),N[l]&&D[l]?(0,u.jsx)("div",{style:{color:"red"},children:D[l]}):null]})};var x=l(95482),v=l(83094),b=l(19252),g=l(68903),A=l(63336),f=l(85865),j=l(96446),p=l(42518),y=l(63516),N=l(14275),D=l(87715),k=l(13059),S=l(81728);const C=[{label:"Male",value:"male"},{label:"Female",value:"female"}],P=[{label:"A+",value:"a"},{label:"A-",value:"a-"},{label:"B+",value:"b+"},{label:"B-",value:"b-"},{label:"O+",value:"o+"},{label:"O-",value:"o-"},{label:"AB+",value:"ab+"},{label:"AB-",value:"ab-"}],q=[{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Sister",value:"Sister"},{label:"Brother",value:"Brother"},{label:"Uncle",value:"Uncle"},{label:"Other Relative",value:"Other Relative"}];function I(){var e,i,l,n,o,t,r,s,d,m,c,I,w,F,B,M,R,W,G,E,Y,T,z,O,_,H,V,L,J,U,K,$,Q,X,Z,ee;const{selectedSetting:ie}=a.useContext(S.A),[le,ae]=a.useState(!1),[ne,oe]=a.useState(null),[te,re]=a.useState([]),[se,de]=a.useState([]),[me,ce]=a.useState(!1);a.useEffect((()=>{(async()=>{try{const{data:e}=await(0,D.Jt)(k.r.academicYear.list);re(e.result.map((e=>({...e,label:"".concat(e.from,"-").concat(e.to),value:e._id})))),ue.setFieldValue("academicYear",e.result[0]._id)}catch(e){console.log(e)}})(),(async()=>{try{const{data:e}=await(0,D.Jt)(k.r.class.list,{params:{schoolId:ie._id}});de(e.result.map((e=>({label:e.name,value:e._id})))),ue.setFieldValue("class",e.result[0]._id)}catch(e){console.log(e)}})()}),[]);const ue=(0,y.Wx)({initialValues:{name:(null===ne||void 0===ne||null===(e=ne.basicDetails)||void 0===e?void 0:e.name)||"",dob:(null===ne||void 0===ne||null===(i=ne.basicDetails)||void 0===i?void 0:i.dob)||null,gender:(null===ne||void 0===ne||null===(l=ne.basicDetails)||void 0===l?void 0:l.gender)||"",bloodGroup:(null===ne||void 0===ne||null===(n=ne.basicDetails)||void 0===n?void 0:n.bloodGroup)||"",cast:(null===ne||void 0===ne||null===(o=ne.basicDetails)||void 0===o?void 0:o.cast)||"",casteIncomeCertificateNumber:(null===ne||void 0===ne||null===(t=ne.basicDetails)||void 0===t?void 0:t.casteIncomeCertificateNumber)||"",motherTongue:(null===ne||void 0===ne||null===(r=ne.basicDetails)||void 0===r?void 0:r.motherTongue)||"",birthPlace:(null===ne||void 0===ne||null===(s=ne.basicDetails)||void 0===s?void 0:s.birthPlace)||"",aadharNumber:(null===ne||void 0===ne||null===(d=ne.basicDetails)||void 0===d?void 0:d.aadharNumber)||"",motherName:(null===ne||void 0===ne||null===(m=ne.motherDetails)||void 0===m?void 0:m.name)||"",motherPhoneNumber:(null===ne||void 0===ne||null===(c=ne.motherDetails)||void 0===c?void 0:c.contactNumber)||"",motherEducation:(null===ne||void 0===ne||null===(I=ne.motherDetails)||void 0===I?void 0:I.education)||"",MotherProfession:(null===ne||void 0===ne||null===(w=ne.motherDetails)||void 0===w?void 0:w.profession)||"",motherDesignation:(null===ne||void 0===ne||null===(F=ne.motherDetails)||void 0===F?void 0:F.designation)||"",fatherName:(null===ne||void 0===ne||null===(B=ne.fatherDetails)||void 0===B?void 0:B.name)||"",fatherPhoneNumber:(null===ne||void 0===ne||null===(M=ne.fatherDetails)||void 0===M?void 0:M.contactNumber)||"",fatherEducation:(null===ne||void 0===ne||null===(R=ne.fatherDetails)||void 0===R?void 0:R.education)||"",fatherProfession:(null===ne||void 0===ne||null===(W=ne.fatherDetails)||void 0===W?void 0:W.profession)||"",fatherDesignation:(null===ne||void 0===ne||null===(G=ne.fatherDetails)||void 0===G?void 0:G.designation)||"",class:(null===ne||void 0===ne||null===(E=ne.academicDetails)||void 0===E?void 0:E.class)||"",academicYear:(null===ne||void 0===ne||null===(Y=ne.academicDetails)||void 0===Y?void 0:Y.academicYear)||"",email:(null===ne||void 0===ne||null===(T=ne.otherDetails)||void 0===T?void 0:T.email)||"",healthCondition:(null===ne||void 0===ne||null===(z=ne.otherDetails)||void 0===z?void 0:z.healthCondition)||"",hostelRequired:(null===ne||void 0===ne||null===(O=ne.otherDetails)||void 0===O?void 0:O.hostelRequired)||"no",transportRequired:(null===ne||void 0===ne||null===(_=ne.otherDetails)||void 0===_?void 0:_.transportRequired)||"no",contactNumber:(null===ne||void 0===ne||null===(H=ne.contactDetails)||void 0===H?void 0:H.contactNumber)||"",guardianName:(null===ne||void 0===ne||null===(V=ne.contactDetails)||void 0===V?void 0:V.guardianName)||"",guardianContactNumber:(null===ne||void 0===ne||null===(L=ne.contactDetails)||void 0===L?void 0:L.guardianContactNumber)||"",alternateNumber:(null===ne||void 0===ne||null===(J=ne.contactDetails)||void 0===J?void 0:J.relationWithGuardian)||"",relationWithGuardian:(null===ne||void 0===ne||null===(U=ne.contactDetails)||void 0===U?void 0:U.relationWithGuardian)||"",nationalId:(null===ne||void 0===ne||null===(K=ne.contactDetails)||void 0===K?void 0:K.nationalId)||"",presentAddress:(null===ne||void 0===ne||null===($=ne.contactDetails)||void 0===$?void 0:$.presentAddress)||"",permanentAddress:(null===ne||void 0===ne||null===(Q=ne.contactDetails)||void 0===Q?void 0:Q.permanentAddress)||"",schoolName:(null===ne||void 0===ne||null===(X=ne.previousSchoolDetails)||void 0===X?void 0:X.name)||"",previousClass:(null===ne||void 0===ne||null===(Z=ne.previousSchoolDetails)||void 0===Z?void 0:Z.class)||"",tcNumber:(null===ne||void 0===ne||null===(ee=ne.previousSchoolDetails)||void 0===ee?void 0:ee.tcNumber)||""},onSubmit:async e=>{try{const i={studentDetails:{basicDetails:{name:e.name,dob:e.dob,gender:e.gender,bloodGroup:e.bloodGroup,cast:e.cast,casteIncomeCertificateNumber:e.casteIncomeCertificateNumber,motherTongue:e.motherTongue,birthPlace:e.birthPlace,aadharNumber:e.aadharNumber},motherDetails:{name:e.motherName,contactNumber:e.motherPhoneNumber,education:e.motherEducation,profession:e.MotherProfession,designation:e.motherDesignation},fatherDetails:{name:e.fatherName,contactNumber:e.fatherPhoneNumber,education:e.fatherEducation,profession:e.fatherProfession,designation:e.fatherDesignation},academicDetails:{class:e.class,academicYear:e.academicYear},otherDetails:{email:e.email,healthCondition:e.healthCondition,hostelRequired:e.hostelRequired||"no",transportRequired:e.transportRequired||"no"},contactDetails:{contactNumber:e.contactNumber,guardianName:e.guardianName,guardianContactNumber:e.guardianContactNumber,alternateNumber:e.alternateNumber,relationWithGuardian:e.relationWithGuardian,nationalId:e.nationalId,presentAddress:e.presentAddress,permanentAddress:e.permanentAddress},previousSchoolDetails:{name:e.schoolName,tcNumber:e.tcNumber,class:e.previousClass}},schoolId:ie._id};if(ae(!0),ne){const{data:e}=await(0,D.yJ)(k.r.preadmissionEnqiry.update+"/"+ne._id,i)}else{const{data:e}=await(0,D.bE)(k.r.preadmissionEnqiry.create,i)}he()}catch(i){console.log(i)}ae(!1)},enableReinitialize:!0}),he=()=>{oe(null),ce(!1),ue.resetForm()};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(b.A,{children:[(0,u.jsx)(g.Ay,{container:!0,mt:2,children:(0,u.jsx)(A.A,{sx:{width:"100%",bgcolor:"whitesmoke",padding:3,textAlign:"center"},elevation:3,children:(0,u.jsx)(g.Ay,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,u.jsx)(f.A,{style:{fontSize:20,color:N.A.darkPalette.primary.main,fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:700},children:"Pre-Admission Form"})})})}),(0,u.jsxs)(j.A,{component:"form",onSubmit:ue.handleSubmit,children:[(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Basic Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{required:!0,name:"name",formik:ue,label:"Name"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(v.A,{required:!0,name:"dob",formik:ue,label:"DOB"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{required:!0,name:"gender",formik:ue,label:"Select Gender",options:C})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{name:"bloodGroup",formik:ue,label:"Select Blood Group",options:P})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"cast",formik:ue,label:"Cast"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"casteIncomeCertificateNumber",formik:ue,label:"Cast Income Certificate Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"motherTongue",formik:ue,label:"Mother Tongue"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"birthPlace",formik:ue,label:"Birth Place"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"aadharNumber",formik:ue,label:"Aadhar Number"})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Contact Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{required:!0,name:"contactNumber",formik:ue,label:"Contact Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{required:!0,name:"guardianName",formik:ue,label:"Guardian Name"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{required:!0,name:"guardianContactNumber",formik:ue,label:"Guardian Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"alternateNumber",formik:ue,label:"Alternate Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{name:"relationWithGuardian",formik:ue,label:"Relation With Guardian",options:q})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"nationalId",formik:ue,label:"National Id"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"presentAddress",formik:ue,label:"presentAddress"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"permanentAddress",formik:ue,label:"permanentAddress"})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Previous School Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"schoolName",formik:ue,label:"Previous School"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"previousClass",formik:ue,label:"Previous Class"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"tcNumber",formik:ue,label:"TC Number"})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Father Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"fatherName",formik:ue,label:"Father Name"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"fatherPhoneNumber",formik:ue,label:"Father Phone Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"fatherEducation",formik:ue,label:"Father Education"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"fatherProfession",formik:ue,label:"Father Profession"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"fatherDesignation",formik:ue,label:"Father Designation"})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Mother Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"motherName",formik:ue,label:"Mother Name"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"motherPhoneNumber",formik:ue,label:"Mother Phone Number"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"motherEducation",formik:ue,label:"Mother Education"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"MotherProfession",formik:ue,label:"Mother Profession"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"motherDesignation",formik:ue,label:"Mother Designation"})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Academic Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{required:!0,name:"academicYear",formik:ue,label:"Select Academic Year",options:te})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{required:!0,name:"class",formik:ue,label:"Select Class",options:se})})]})}),(0,u.jsx)(A.A,{sx:{padding:2,marginBottom:2},children:(0,u.jsxs)(g.Ay,{rowSpacing:1,columnSpacing:2,container:!0,children:[(0,u.jsx)(g.Ay,{xs:12,md:12,lg:12,item:!0,children:(0,u.jsx)(f.A,{variant:"h6",fontWeight:"bold",children:"Other Information"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"email",formik:ue,label:"Email"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(x.A,{name:"healthCondition",formik:ue,label:"Health Condition"})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{name:"hostelRequired",formik:ue,label:"Hostel Required",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]})}),(0,u.jsx)(g.Ay,{xs:12,md:6,lg:3,item:!0,children:(0,u.jsx)(h,{name:"transportRequired",formik:ue,label:"Transport Required",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]})})]})}),(0,u.jsxs)(j.A,{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:1,mb:1,children:[(0,u.jsx)(p.A,{size:"small",color:"error",variant:"contained",children:"Cancel"}),(0,u.jsx)(p.A,{size:"small",variant:"contained",type:"submit",children:"Submit"})]})]})]})})}},66617:(e,i,l)=>{l.r(i),l.d(i,{default:()=>s});l(65043);var a=l(34535),n=l(96446),o=l(32532),t=l(70579);const r=(0,a.Ay)(n.A)((e=>{let{theme:i}=e;return{backgroundImage:"linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),url(https://images.unsplash.com/photo-1664463760781-f159dfe3af30?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",paddingTop:"150px"}}));function s(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r,{children:(0,t.jsx)(o.default,{})})})}}}]);
//# sourceMappingURL=6617.7029151a.chunk.js.map